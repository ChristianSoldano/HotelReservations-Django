{% extends "base.html" %}
{% load static %}

{% block imports %}

{% endblock%}

{% block content %}
<section class="hero-section">
    <div class="single-hero-item set-bg" data-setbg="{% static 'img/hero/hero-1.jpg' %}">
        <div class="container">
            <div class="row">
                <div class="search-form">
                    <div class="container">
                        <div class="row">
                            <div class="col-lg-12">
                                <div class="search-form-text">
                                    <div class="search-text">
                                        <i class="fa fa-search"></i>
                                        Find Your Home
                                    </div>
                                </div>
                                <form action="/list/" class="filter-form" method="post">
                                    {% csrf_token %}
                                    <div class="first-row">
                                        <select id="pax" name="pax">
                                            <option selected="true" value="any">Any Paxs</option>
                                            <option value="1">1</option>
                                            <option value="2">2</option>
                                            <option value="3">3</option>
                                            <option value="4">4</option>
                                            <option value="5">5</option>
                                            <option value="6">6</option>
                                            <option value="7">7</option>
                                            <option value="8">8</option>
                                            <option value="9">9</option>
                                            <option value="10">10</option>
                                        </select>
                                        <select id="rooms" name="rooms">
                                            <option selected="true" value="any">Any Rooms</option>
                                            <option value="1">1</option>
                                            <option value="2">2</option>
                                            <option value="3">3</option>
                                            <option value="4">4</option>
                                            <option value="5">5</option>
                                            <option value="6">6</option>
                                            <option value="7">7</option>
                                            <option value="8">8</option>
                                            <option value="9">9</option>
                                            <option value="10">10</option>
                                        </select>
                                        <select id="bathrooms" name="bathrooms">
                                            <option selected="true" value="any">Any Bathrooms
                                            </option>
                                            </option>
                                            <option value="1">1</option>
                                            <option value="2">2</option>
                                            <option value="3">3</option>
                                            <option value="4">4</option>
                                            <option value="5">5</option>
                                        </select>
                                        <select id="beds" name="beds">
                                            <option selected="true" value="any">Any Beds</option>
                                            <option value="1">1</option>
                                            <option value="2">2</option>
                                            <option value="3">3</option>
                                            <option value="4">4</option>
                                            <option value="5">5</option>
                                            <option value="6">6</option>
                                            <option value="7">7</option>
                                            <option value="8">8</option>
                                            <option value="9">9</option>
                                            <option value="10">10</option>
                                        </select>
                                    </div>
                                    <div class="first-row">
                                        <input class="reservation-date" id="datePickCheckin" name="datePickCheckin"
                                            placeholder="dd/mm/aaaa" />
                                        <input class="reservation-date" id="datePickCheckout" name="datePickCheckout"
                                            placeholder="dd/mm/aaaa" />
                                        <select id="city" name="city">
                                            <option selected="true" value="any">Any City</option>
                                            {% for city in cities %}
                                            <option value="{{city.id}}">{{city.name}}</option>
                                            {% endfor %}
                                        </select>
                                    </div>
                                    <div class="second-row">
                                        <div class="price-range-wrap">
                                            <div class="price-text">
                                                <label for="priceRange">Price:</label>
                                                <input type="text" id="priceRange" name="priceRange" readonly>
                                            </div>
                                            <div id="price-range" class="slider"></div>
                                        </div>

                                        <div class="check-boxes">
                                            <label for="garage"> Garage</label>
                                            <input class="mr-5 mt-4" type="checkbox" id="garage" name="garage"
                                                value="true">

                                            <label for="pets"> Pets</label>
                                            <input class="mr-5" type="checkbox" id="pets" name="pets" value="true">

                                            <label for="wifi"> Wifi</label>
                                            <input class="mr-5" type="checkbox" id="wifi" name="wifi" value="true">

                                            <label for="pool"> Pool</label>
                                            <input class="mr-5" type="checkbox" id="pool" name="pool" value="true">

                                            <label for="kitchen"> Kitchen</label>
                                            <input type="checkbox" id="kitchen" name="kitchen" value="true">
                                        </div>
                                        <button type="submit" class="search-btn">Search</button>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
<!-- Hero Section End -->

<!-- How It Works Section Begin -->
<section class="howit-works spad">
    <div class="container">
        <div class="row">
            <div class="col-lg-12">
                <div class="section-title">
                    <span>Find the house you like</span>
                    <h2>How Does It Works</h2>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-4">
                <div class="single-howit-works">
                    <img src="{% static 'img/howit-works/howit-works-1.png' %}" alt="">
                    <h4>Search Through Records By Date Range</h4>

                </div>
            </div>
            <div class="col-lg-4">
                <div class="single-howit-works">
                    <img src="{% static 'img/howit-works/howit-works-2.png' %}" alt="">
                    <h4>Find Your Place</h4>

                </div>
            </div>
            <div class="col-lg-4">
                <div class="single-howit-works">
                    <img src="{% static 'img/howit-works/howit-works-3.png' %}" alt="">
                    <h4>Make Your Booking</h4>
                </div>
            </div>
        </div>        
    </section>
    </div>



{% block javascript %}
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@10"></script>
<script>
    var midatepicker2 = $('#datePickCheckout').datepicker({
        format: "dd-mm-yyyy",
        autoclose: true,
    });

    midatepicker2.prop('disabled', true);

    $('#datePickCheckin').datepicker({
        format: "dd-mm-yyyy",
        startDate: "today",
        autoclose: true,

    }).change(function () {
        midatepicker2.datepicker('setStartDate', $(this).val());
        midatepicker2.datepicker('setDate', $(this).val());
        midatepicker2.prop('disabled', false);
    });



    {% if params %}
    
    Swal.fire({
        title: '¡All done!',
        html: `<div class="text-left">
            Thank you <strong>{{params.name}}</strong>, the reservation has been registered.<br><br>
            <strong>Reservation info:</strong>
            <br>
            Reservation Nº: <strong class="pull-right">{{params.booking_id}}</strong>
            <br>
            Property: <strong class="pull-right">{{params.property_title}}</strong>
            <br>
            Checkin: <strong class="pull-right">{{params.checkin}}</strong>
            <br>
            Checkout: <strong class="pull-right">{{params.checkout}}</strong>
            <br>
            Total: <strong class="pull-right">${{params.total}}</strong>
            
        </div>`,
        icon: 'success',
        confirmButtonText: 'OK'
    })
    {% endif %}


</script>
{% endblock%}
{% endblock %}